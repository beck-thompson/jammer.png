Inspired by: https://github.com/tgstation/tgstation/commit/c65da5a49477413310c81c460ea4b243a9f864dd
